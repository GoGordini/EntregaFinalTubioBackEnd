<div style="background-color: #f8f9fa; padding: 20px; font-family: 'Roboto', sans-serif;">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <div style="flex-grow: 1;">
            <h1 style="margin: 0; text-align: center;">¡Bienvenido {{user.first_name}}!</h1>
        </div>
        <div style="display: flex; align-items: center;">
            <a href="/api/users/logout"><button style="padding: 10px 20px; margin-right: 5px; background-color: #ccc; color: #333; border: none; border-radius: 3px; cursor: pointer;">Cerrar sesión</button></a>
            <a href="http://localhost:8080/carts/{{user.cart._id}}">
                <i class="fas fa-shopping-cart"></i>
            </a>
        </div>
    </div>

    <div style="display: flex; flex-wrap: wrap; justify-content: center;">
        {{#each products}}
        <div style="flex: 0 0 33%; max-width: 33%; padding: 10px; box-sizing: border-box; text-align: center;">
            <div style="background-color: #fff; border: 1px solid #ccc; border-radius: 5px; padding: 10px; display: inline-block; width: 100%; height: 350px;">
                <h3 style="font-size: 1.2em; margin-bottom: 10px;">{{this.title}}</h3>
                <img src="{{this.thumbnail}}" alt="{{this.title}}" style="max-width: 200px; max-height: 200px; margin: 0 auto 10px; display: block;">
                <p style="margin-bottom: 10px; font-family: 'Roboto', sans-serif; font-size: 1em;">$ {{this.price}}</p>
                <button data-cart-id="{{user.cart._id}}" onclick="addToCart('{{this._id}}','{{../user.cart._id}}')" style="padding: 5px 15px; background-color: #ccc; color: #333; border: none; border-radius: 3px; cursor: pointer; margin-top: 5px;">Agregar al carrito</button>
            </div>
        </div>
        {{/each}}
    </div>

    <div style="margin-top: 20px; text-align: center;">
        {{#if hasPrevPage }}
        <a href="{{prevLink}}"><button style="padding: 5px 10px; background-color: #ccc; color: #333; border: none; border-radius: 3px; cursor: pointer;">Anterior</button></a>
        {{/if}}
        {{#if hasNextPage }}
        <a href="{{nextLink}}"><button style="padding: 5px 10px; background-color: #ccc; color: #333; border: none; border-radius: 3px; cursor: pointer;">Siguiente</button></a>
        {{/if}}
    </div>
</div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
{{!-- <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script> --}}
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="/js/cart.js"></script>
